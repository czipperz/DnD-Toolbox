<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
  <link rel="stylesheet" href="styles/bootstrap-material-design.min.css">
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/charPage.css">
  <title>DnD Toolbox</title>
</head>

<body>
  <nav class="navbar navbar-dark fixed-top">
    <a class="navbar-brand" href="/profile.html">DnD Toolbox</a>
  </nav>

  <div id="charPage" class="page-container">
    <div id="infoRow">
      <div class="infoCol">
        <div class="col2Text">Character Name:</div>
        <input id="charName" class="infoInput editable" disabled></input>
      </div>

      <div class="infoCol">
        <div class="col2Text">Level & Class:</div>
        <input id="charLevel" class="infoInput editable" disabled></input>
      </div>

      <div class="infoCol">
        <div class="col2Text">Race:</div>
        <input id="charRace" class="infoInput editable" disabled></input>
      </div>

      <div class="infoCol">
        <div class="col2Text">Alignment:</div>
        <input id="charAli" class="infoInput editable" disabled></input>
      </div>

      <div class="infoCol">
        <div class="col2Text">Background:</div>
        <input id="charBack" class="infoInput editable" disabled></input>
      </div>

      <button id="charButton">Edit</button>

    </div>

    <div id="columns">
      <div id="statCol" class="columnDiv smallCol">

        <div id="stats">

          <div class="invSquare" >
            <div>Strength</div>
            <input id="str" class="statValue main6 editable" value="" disabled></input>
            <div id="strMod"></div>
          </div>

          <div class="invSquare">
            <div>Dexterity</div>
            <input id="dex" class="statValue main6 editable" value="" disabled></input>
            <div id="dexMod"></div>
          </div>

          <div class="invSquare">
            <div>Constitution</div>
            <input id="con" class="statValue main6 editable" value="" disabled></input>
            <div id="conMod"></div>
          </div>

          <div class="invSquare">
            <div>Intelligence</div>
            <input id="int" class="statValue main6 editable" value="" disabled></input>
            <div id="intMod"></div>
          </div>

          <div class="invSquare">
            <div>Wisdom</div>
            <input id="wis" class="statValue main6 editable" value="" disabled></input>
            <div id="wisMod"></div>
          </div>

          <div class="invSquare">
            <div>Charisma</div>
            <input id="cha" class="statValue main6 editable" value="" disabled></input>
            <div id="chaMod"></div>
          </div>

        </div>

        <div id="skills">
          <div class="inspAndProf">
            <input id="insp" class="boxedNumber editable" value="" disabled></input>
            <div style="margin-right: 27px;">Inspiration</div>
          </div>

          <div class="inspAndProf">
            <input id="prof" class="boxedNumber editable" value="" disabled></input>
            <div>Proficiency Bonus</div>
          </div>

          <div class="manySkills">
            <div class="singleSkill">
              <input id="strSkillMod" class="skill editable" type="checkbox" disabled>
              <u id="strSkill" class="skillValue strDef">+0</u>
              <div>Strength</div>
            </div>

            <div class="singleSkill">
              <input id="dexSkillMod" class="skill editable" type="checkbox" disabled>
              <u id="dexSkill" class="skillValue dexDef">+0</u>
              <div>Dexterity</div>
            </div>

            <div class="singleSkill">
              <input id="conSkillMod" class="skill editable" type="checkbox" disabled>
              <u id="conSkill" class="skillValue conDef">+0</u>
              <div>Constitution</div>
            </div>

            <div class="singleSkill">
              <input id="intSkillMod" class="skill editable" type="checkbox" disabled>
              <u id="intSkill" class="skillValue intDef">+0</u>
              <div>Intelligence</div>
            </div>

            <div class="singleSkill">
              <input id="wisSkillMod" class="skill editable" type="checkbox" disabled>
              <u id="wisSkill" class="skillValue wisDef">+0</u>
              <div>Wisdom</div>
            </div>

            <div class="singleSkill">
              <input id="chaSkillMod" class="skill editable" type="checkbox" disabled>
              <u id="chaSkill" class="skillValue chaDef">+0</u>
              <div>Charisma</div>
            </div>

          </div>

          <div class="manySkills">
            <div class="singleSkill">
              <input id="acroMod" class="skill editable" type="checkbox" disabled>
              <u id="acro" class="skillValue dexDef">+0</u>
              <div>Acrobatics</div>
            </div>

            <div class="singleSkill">
              <input id="aniMod" class="skill editable" type="checkbox" disabled>
              <u id="ani" class="skillValue wisDef">+0</u>
              <div>Animal Handling</div>
            </div>

            <div class="singleSkill">
              <input id="arcMod" class="skill editable" type="checkbox" disabled>
              <u id="arc" class="skillValue intDef">+0</u>
              <div>Arcana</div>
            </div>

            <div class="singleSkill">
              <input id="athMod" class="skill editable" type="checkbox" disabled>
              <u id="ath" class="skillValue strDef">+0</u>
              <div>Athletics</div>
            </div>

            <div class="singleSkill">
              <input id="decMod" class="skill editable" type="checkbox" disabled>
              <u id="dec" class="skillValue chaDef">+0</u>
              <div>Deception</div>
            </div>

            <div class="singleSkill">
              <input id="hisMod" class="skill editable" type="checkbox" disabled>
              <u id="his" class="skillValue intDef">+0</u>
              <div>History</div>
            </div>
            
            <div class="singleSkill">
              <input id="insMod" class="skill editable" type="checkbox" disabled>
              <u id="ins" class="skillValue wisDef">+0</u>
              <div>Insight</div>
            </div>

            <div class="singleSkill">
              <input id="intimiMod" class="skill editable" type="checkbox" disabled>
              <u id="intimi" class="skillValue chaDef">+0</u>
              <div>Intimidation</div>
            </div>

            <div class="singleSkill">
              <input id="invMod" class="skill editable" type="checkbox" disabled>
              <u id="inv" class="skillValue intDef">+0</u>
              <div>Investigation</div>
            </div>

            <div class="singleSkill">
              <input id="medMod" class="skill editable" type="checkbox" disabled>
              <u id="med" class="skillValue wisDef">+0</u>
              <div>Medicine</div>
            </div>

            <div class="singleSkill">
              <input id="natMod" class="skill editable" type="checkbox" disabled>
              <u id="nat" class="skillValue intDef">+0</u>
              <div>Nature</div>
            </div>

            <div class="singleSkill">
              <input id="percMod" class="skill editable" type="checkbox" disabled>
              <u id="perc" class="skillValue wisDef">+0</u>
              <div>Perception</div>
            </div>
            
            <div class="singleSkill">
              <input id="perfMod" class="skill editable" type="checkbox" disabled>
              <u id="perf" class="skillValue chaDef">+0</u>
              <div>Performance</div>
            </div>

            <div class="singleSkill">
              <input id="persMod" class="skill editable" type="checkbox" disabled>
              <u id="pers" class="skillValue chaDef">+0</u>
              <div>Persuasion</div>
            </div>

            <div class="singleSkill">
              <input id="relMod" class="skill editable" type="checkbox" disabled>
              <u id="rel" class="skillValue intDef">+0</u>
              <div>Religion</div>
            </div>

            <div class="singleSkill">
              <input id="sleMod" class="skill editable" type="checkbox" disabled>
              <u id="sle" class="skillValue dexDef">+0</u>
              <div>Sleight of Hand</div>
            </div>

            <div class="singleSkill">
              <input id="steMod" class="skill editable" type="checkbox" disabled>
              <u id="ste" class="skillValue dexDef">+0</u>
              <div>Stealth</div>
            </div>

            <div class="singleSkill">
              <input id="surMod" class="skill editable" type="checkbox" disabled>
              <u id="sur" class="skillValue wisDef">+0</u>
              <div>Survival</div>
            </div>

          </div>
        </div>

      </div>

      <div id="invCol" class="columnDiv smallCol">

        <div id="topThree" class="invRow">
          <div class="invSquare2">
            <input id="AC" class="statValue editable" value="" disabled></input>
            <div class="col2Text">Armor Class</div>
          </div>

          <div class="invSquare2">
            <input id="ini" class="statValue editable" value="" disabled></input>
            <div class="col2Text">Initiative</div>
          </div>

          <div class="invSquare2">
            <input id="speed" class="statValue editable" value="" disabled></input>
            <div class="col2Text">Speed</div>
          </div>
        </div>

        <div id="healthRow" class="invRow">
          <button id="minusHealth" type="button" data-direction="-1" class="btn bmd-btn-fab healthButton btn-primary">
            <i class="material-icons">remove</i>
          </button>

          <div class="invSquare2">
            <input id="health" class="statValue editable" value="" disabled></input>
            <div class="col2Text">Health</div>
          </div>

          <button id="plusHealth" type="button" data-direction="1" class="btn bmd-btn-fab healthButton btn-primary">
            <i class="material-icons">add</i>
          </button>
        </div>

        <div id="tempHealthRow" class="invRow">
          <button id="minusTempHealth" type="button" data-direction="-1" data-type="temp" class="btn bmd-btn-fab healthButton btn-primary">
            <i class="material-icons">remove</i>
          </button>

          <div class="invSquare2">
            <input id="tempHealth" class="statValue editable" value="" disabled></input>
            <div class="col2Text">Temp Health</div>
          </div>

          <button id="plusTempHealth" type="button" data-direction="1" data-type="temp" class="btn bmd-btn-fab healthButton btn-primary">
            <i class="material-icons">add</i>
          </button>
        </div>

        <div id="hitDiceDeathSaves" class="invRow">
          <div id="hitDice">
            <input id="healthDice" class="statValue editable" value="" disabled></input>
            <div class="col2Text">Hit Dice</div>
          </div>

          <div id="deathSave">
            <div class="dSaveRow">
              Successes
              <input type="checkbox">
              <input type="checkbox">
              <input type="checkbox">
            </div>

            <div class="dSaveRow">
              Failures
              <input type="checkbox">
              <input type="checkbox">
              <input type="checkbox">
            </div>

            <div class="col2Text">
              Death Saves
            </div>

          </div>
        </div>

        <div id="weaponBox" class="invRow boxRow">
          <div class="weaponRow">
            <input id="wep1" class="weaponWide wep editable" value="" disabled></input>
            <input id="hit1" class="weaponShort wep editable" value="" disabled></input>
            <input id="dam1" class="weaponWide wep editable" value="" disabled></input>
          </div>

          <div class="weaponRow">
            <input id="wep2" class="weaponWide wep editable" value="" disabled></input>
            <input id="hit2" class="weaponShort wep editable" value="" disabled></input>
            <input id="dam2" class="weaponWide wep editable" value="" disabled></input>
          </div>

          <div class="weaponRow">
            <input id="wep3" class="weaponWide wep editable" value="" disabled></input>
            <input id="hit3" class="weaponShort wep editable" value="" disabled></input>
            <input id="dam3" class="weaponWide wep editable" value="" disabled></input>
          </div>

          <div class="col2Text">Attacks</div>
        </div>

        <div id="inventoryRow" class="invRow boxRow">
          <div id="equipRow">
            <div id="goldCol">
              <div class="goldBox goldRow">
                <div>PP:</div>
                <input id="PP" class="goldNum editable" value="" disabled></input>
              </div>

              <div class="goldBox goldRow">
                <div>GP:</div>
                <input id="GP" class="goldNum editable" value="" disabled></input>
              </div>

              <div class="goldBox goldRow">
                <div>SP:</div>
                <input id="SP" class="goldNum editable" value="" disabled></input>
              </div>

              <div class="goldBox goldRow">
                <div>CP:</div>
                <input id="CP" class="goldNum editable" value="" disabled></input>
              </div>

            </div>

            <div id="equipment" id="equipText"></div>
          </div>

          <div class="col2Text">Equipment</div>
        </div>

      </div>

      <div id="featsCol" class="columnDiv bigCol">
        <textarea id="feats" class="editable" disabled></textarea>
      </div>
    </div>
    
    <!-- spells section -->
    <div id="spells">
      <div id="spellsRefreshCol">
        <h4>Spells:</h4>
        <div>
          <button id="spellsRefreshButton" type="button" class="btn bmd-btn-fab btn-primary">
            <i class="material-icons">refresh</i>
          </button>
        </div>
      </div>
      <div id="spellLevelListWrapper">
        <div class="dnd-row dnd-header">
          <div class="level">Spell Level</div>
          <div class="name">Spell</div>
          <div class="dice">Dice</div>
        </div>
        
        <div id="spellLevelList">
          <div>Spells cannot be edited until the character is created</div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="diceRollModal" tabindex="-1" role="dialog" aria-labelledby="Roll Some Dice!" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Roll Some Dice!</h5>
        </div>
        <div class="modal-body">
          <div>
            <strong>What would you like to roll?</strong>
            <div class="row">
              <div class="col">
                <input id="numDice" type="text" class="form-control" placeholder="Number of Dice">
              </div>
              <div class="col">
                <input id="numSides" type="text" class="form-control" placeholder="Number of Sides">
              </div>
              <div class="col">
                <input id="rollMod" type="text" class="form-control" placeholder="Modifier">
              </div>
            </div>
          </div>
          <br>
          <p>
            <strong>Results:</strong>
            <p id="resultText">&nbsp;</p>
            <p id="results">&nbsp;</p>
          </p>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button id="rollButton" type="button" class="btn btn-primary">Roll</button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal fade" id="addSpell" tabindex="-1" role="dialog" aria-labelledby="Add Spell" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Spell</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div>
            Add level <span id="addSpell-level"></span> spell:
          </div>
          
          <div class="form-group">
            <label for="addSpell-name" class="bmd-label-floating">Name</label>
            <input type="text" class="form-control" id="addSpell-name" required>
          </div>
          <div class="form-group">
            <label for="addSpell-dice" class="bmd-label-floating">Dice</label>
            <input type="text" class="form-control" id="addSpell-dice" pattern="|\d+d\d+(\+\d+)?">
            <span class="bmd-help">Should be either empty or of the form XdY (roll X Y-sided dies) or XdY+Z (roll X Y-sided dies and add Z to each).</span>
          </div>
          
          <div id="addSpell-errors"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="addSpell-submit">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal fade" id="addSpellLevel" tabindex="-1" role="dialog" aria-labelledby="Add Spell Level" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Spell Level</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="addSpellLevel-level" class="bmd-label-floating">Level</label>
            <input type="number" class="form-control" id="addSpellLevel-level" required min="0">
          </div>
          <div class="form-group">
            <label for="addSpellLevel-max" class="bmd-label-floating">Maximum Spell Points</label>
            <input type="number" class="form-control" id="addSpellLevel-max" min="0">
            <span class="bmd-help">Leave empty to have no maximum.</span>
          </div>
          
          <div id="addSpellLevel-errors"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="addSpellLevel-submit">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal fade" id="noMoreSpellPoints" tabindex="-1" role="dialog" aria-labelledby="No More Spell Points" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">No More Spell Points</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          You have no remaining spell points for level
          <span id="noMoreSpellPoints-level"></span> spells.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Ok</button>
        </div>
      </div>
    </div>
  </div>
  
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/popper.js"></script>
  <script src="scripts/bootstrap-material-design.js"></script>
  <script>$("body").bootstrapMaterialDesign();</script>
  <script src="/__/firebase/7.18.0/firebase-app.js"></script>
  <script src="/__/firebase/7.18.0/firebase-analytics.js"></script>
  <script src="/__/firebase/7.18.0/firebase-auth.js"></script>
  <script src="/__/firebase/7.18.0/firebase-firestore.js"></script>
  <script src="/__/firebase/init.js"></script>
  <script src="scripts/main.js"></script>
  <script src="scripts/charPage.js"></script>
</body>

</html>